{% extends 'base.html' %} {% block content %}
<!--top of page heading of page-->
<div class="jumbotron text-center">
  <h1>Library</h1>
</div>
<!-- everything is held within this container for responsiveness-->
<div class="container">
    <div class="page_content">

    <!-- content goes in here, below. -->
        <div class="container-fluid">
            <div class="row">
                <div class="col-sm">
                    <!-- Supervisor Dropdown -->
                    <div class="dropdown">
                        <button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown">
                            Supervisor
                        </button>
                        <div class="dropdown-menu force-scroll">
                            <a class="dropdown-item" href="/library/alpha:-1">
                                Show All
                            </a>
                            {% for supervisor in supervisors %}
                            <a class="dropdown-item" href="/library/alpha:{{ supervisor.supervisorID }}">
                                {{ supervisor.fname }} {{ supervisor.lname }}
                            </a> {% endfor %}
                        </div>
                    </div>
                    <!-- END Supervisor Dropdown -->
					<br>
                    <!-- Sort dropdown -->
                    <div class="dropdown">
                        <button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown">
                            Sort
                        </button>
                        <div class="dropdown-menu">
                            <a class="dropdown-item" href="/library/alpha:{{ selectedID }}">
                                Alphabetical
                            </a>
                            <a class="dropdown-item" href="/library/alpha-rev:{{ selectedID }}">
                                Alphabetical (Reverse)
                            </a>
                            <a class="dropdown-item" href="/library/chrono:{{ selectedID }}">
                                Chronological
                           </a>
                            <a class="dropdown-item" href="/library/chrono-rev:{{ selectedID }}">
                                Chronological (Reverse)
                            </a>
                        </div>
                    </div>
                    <!-- END Sort Dropdown -->
                </div><!--end of column-->
            <!--inline search bar start-->
                <form method="POST">
                    <div class="container">
                        <div class="row">
                            <div class="col-sm">
                                <div style="display: inline-block; min-width: 20em">
                                    {{ search.csrf_token }}
                                    {{ search.search }}
                                   
                                    {{ search.submit }}
                                   
                                </div>
                            </div>
                        </div>
                    </div>
                </form>

            </div>
        </div>
        <!--end of inline search bar-->
        <br>
		<!-- Below are where the tasks are displayed -->
        <div class="container-fluid">
            <div class="row">
                <!-- start content here -->
                {% for task in tasks %}
                    <div class="col-sm-4">
                    
                        <!-- This temporarily is used to show description -->
                        <!--<div onclick="alert('{{ task.description }}')">--> 
						<!--card sizing below-->
                            <div class="card border-dark mb-3 text-center" style="width:175px">
								<img class="card-img-top" src="../static/img/letter-33690_960_720.png" alt="Card Image Cap">
                                <div class="card-body">
                                <p class="card-text">{{ task.title }}</p>
								
									<!-- Button trigger modal -->
									<div class= text-center>
										<button type="button" class="btn btn-secondary btn-sm" data-toggle="modal" data-target="#exampleModalCenter">
										"Claim/Edit"
										</button>
									</div>

									<!-- Modal -->
									<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
										<div class="modal-dialog modal-dialog-centered" role="document">
										
											<div class="modal-content">
												<div class="modal-header">
											
													<h5 class="modal-title">Claim / Edit: {{ task.title }}</h5>
													<button type="button" class="close" data-dismiss="modal" aria-label="Close">
													<span aria-hidden="true">&times;</span>
													</button>
										
												</div>
												<div class="modal-body">
												Would you like to claim or edit this task?
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-dismiss="modal">Claim</button>
													<a href="{{url_for('create_task',task_id=task.taskID)}}">
													<button type="button" class="btn btn-success">Edit</button></a>
												</div>
											</div>
										</div>
									</div>
								
								</div>
                            </div>
                       
                    </div>
                {% endfor %}
                <br>
                <!-- end content here -->
            </div>
        </div>
    </div>
</div>
<!-- end of container -->
{% endblock content %}
