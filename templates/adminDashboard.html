{% extends 'base.html' %}
{% block content %}
<script>
        /* stores the ordered state of columns */
        var asc1=1;
        var asc2=1;
        var asc3=1;
        var asc4=1;
        var asc5=1;
        var asc6=1;
        var asc7=1;
        var asc8=1;
        
        // sorts a column of a tbody
        function sort_table(tbody, col, asc) {
            var rows = tbody.rows,
                rlen = rows.length;
            
            var swapped;
            do {
                swapped = false;'
                if (asc==1){
                for (var i=0; i < rlen-1; i++) {
                    if (asc==1){
                            if (rows[i].cells[col].textContent > rows[i+1].cells[col].textContent) { //ascending order
                                tbody.insertBefore(rows[i+1], rows[i]);
                                swapped = true;
                            }
                    }if (asc==-1){
                            if (rows[i].cells[col].textContent < rows[i+1].cells[col].textContent) { //descending order
                                tbody.insertBefore(rows[i+1], rows[i]);
                                swapped = true;
                            }
                    }
                }
            } while (swapped);
        }

</script>
<div class="jumbotron text-center">
    <h1>Administration Dashboard</h1>
</div>

<div class="container" style="font-size: 1.5em;">
    <div class="page_content">
        <!-- content goes in here, below. -->
        <!--Two tables that will be populated with surveys-->
        <div class="row">
            <div class="table-responsive col-md-12">
                <h2 class="sub-header text-center">Supervisors</h2>
                      <table class="table table-hover table-bordered">
                        <thead id='supervisor_table_header'>
                          <tr>
                            <th onclick='sort_table(supervisor_table, 0, asc6); asc6 *= -1; asc7 =1;asc8 = 1; document.getElementById("supervisor_date").style.visibility="visible"; document.getElementById("supervisor_name").style.visibility="hidden"; document.getElementById("supervisor_email").style.visibility="hidden"; document.getElementById("supervisor_date").src=(asc6==1)?"../static/img/up.png":"../static/img/down.png"' >Created<img id="supervisor_date" style="height:1em;"></span></th>
                            <th onclick='sort_table(supervisor_table, 1, asc7); asc7 *= -1; asc6 =1;asc8 = 1; document.getElementById("supervisor_email").style.visibility="visible"; document.getElementById("supervisor_name").style.visibility="hidden"; document.getElementById("supervisor_date").style.visibility="hidden"; document.getElementById("supervisor_email").src=(asc7==1)?"../static/img/up.png":"../static/img/down.png"' >Name<img id="supervisor_email" style="height:1em;"></span></th>
                            <th onclick='sort_table(supervisor_table, 2, asc8); asc8 *= -1; asc6 =1;asc7 = 1; document.getElementById("supervisor_name").style.visibility="visible"; document.getElementById("supervisor_email").style.visibility="hidden"; document.getElementById("supervisor_date").style.visibility="hidden"; document.getElementById("supervisor_name").src=(asc8==1)?"../static/img/up.png":"../static/img/down.png"' >Email <img id="supervisor_name" style="height:1em;"></span></th>
                          </tr>
                        </thead>
                        <tbody id='supervisor_table'>
                        {% for s in supervisor_list %} 
                          <tr id='supervisor_{{s.supervisorID}}' >
                            <td>{{s.dateCreated}}</td>
                            <td>{{s.fname}} {{s.lname}}</td>
                            <td>{{s.email}}</td>
                          </tr> 
                        {% endfor %}
                        </tbody>
                    </table>
            </div>
            <div class="table-responsive col-md-12">
                <h2 class="sub-header text-center">Users</h2>
                      <table class="table table-hover table-bordered">
                        <thead id='user_table_header'>
                          <tr>
                            <th onclick='sort_table(user_table, 0, asc1); asc1 *= -1; asc2 =1;asc3 =1; document.getElementById("user_date").style.visibility="visible"; document.getElementById("user_name").style.visibility="hidden"; document.getElementById("user_email").style.visibility="hidden"; document.getElementById("user_date").src=(asc1==1)?"../static/img/up.png":"../static/img/down.png"' >Created<img id="user_date" style="height:1em;"></span></th>
                            <th onclick='sort_table(user_table, 1, asc2); asc2 *= -1; asc1 =1;asc3 =1; document.getElementById("user_email").style.visibility="visible"; document.getElementById("user_name").style.visibility="hidden"; document.getElementById("user_date").style.visibility="hidden"; document.getElementById("user_email").src=(asc2==1)?"../static/img/up.png":"../static/img/down.png"' >Name<img id="user_email" style="height:1em;"></span></th>
                            <th onclick='sort_table(user_table, 2, asc3); asc3 *= -1; asc1 =2;asc2 =1; document.getElementById("user_name").style.visibility="visible"; document.getElementById("user_email").style.visibility="hidden"; document.getElementById("user_date").style.visibility="hidden"; document.getElementById("user_name").src=(asc3==1)?"../static/img/up.png":"../static/img/down.png"' >Email<img id="user_name" style="height:1em;"></span></th>
                          </tr>
                        </thead>
                        <tbody id='user_table'>
                        {% for u in user_list %} 
                          <tr id='user_{{u.userID}}' >
                            <td>{{u.dateCreated}}</td>
                            <td>{{u.fname}} {{u.lname}}</td>
                            <td>{{u.email}}</td>
                          </tr> 
                        {% endfor %}
                        </tbody>
                    </table>
            </div>
        </div>








 <!-- content goes here, above. -->

    </div><!-- end of page content -->
</div><!-- /. end of container -->


{% endblock content %}
